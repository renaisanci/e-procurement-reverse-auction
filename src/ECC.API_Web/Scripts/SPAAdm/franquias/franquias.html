<div class="tabbable">

    <ul class="nav nav-tabs">
        <li id="tabPesquisar" ng-class="tabsFranquia.tabPesquisar.tabAtivar" ng-show="tabsFranquia.tabPesquisar.tabhabilitar">
            <a data-toggle="tab" href="#tabContPesquisar" target="_self" ng-click="habilitaDesabilitaAbaPesquisa();">
                <i class="green ace-icon fa fa-search bigger-120"></i>
                Pesquisar
            </a>
        </li>

        <li id="tabCadFranquia" ng-class="tabsFranquia.tabCadFranquia.tabAtivar" ng-show="tabsFranquia.tabCadFranquia.tabhabilitar">
            <a data-toggle="tab" href="#tabContFranquia" target="_self">
                <i class="purple ace-icon fa fa-users bigger-120"></i>
                Franquia
            </a>
        </li>
      
    </ul>

    <div class="tab-content">
        <div id="tabContPesquisar" ng-class="tabsFranquia.tabPesquisar.contentAtivar" ng-show="tabsFranquia.tabPesquisar.contentHabilitar">
            <div class="row">
                <div class="col-md-12">
                    <h4>Pesquisar</h4>
                    <hr />
                    <form class="form-inline" role="form">
                        <input type="text" class="col-md-4" ng-model="filtroFranquia" placeholder="Pesquisar Franquia" />
                        &nbsp;
                        <button type="button" class="btn btn-info btn-sm" ng-click="pesquisarFranquia();">
                            <i class="ace-icon fa fa-search bigger-110"></i>Pesquisar
                        </button>
                    </form>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <!--Inicio Tabela Pesquisar-->

                    <div class="table-responsive">
                        <table class="table table-bordered table-hover" id="gvPesquisaFranquias">
                            <thead>
                                <tr>
                                    <th>Razão Social</th>
                                    <th>Responsável</th>
                                    <th>Email</th>
                                    <th>CNPJ</th>
                                    <th>Completo</th>
                                    <th>Data Cotação</th>
                                    <th>Ativo</th>
                                    <th>Ação</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat="franquia in Franquias | filter:filtroFranquia">
                                    <td>{{franquia.RazaoSocial}}</td>
                                    <td>{{franquia.Responsavel}}</td>
                                    <td>{{franquia.Email}}</td>
                                    <td>{{franquia.Cnpj}}</td>
                                    <td>{{franquia.Completo}}</td>
                                    <td>
                                        <label ng-class="{'label label-success':franquia.DataCotacao,'label label-danger':!franquia.DataCotacao}">
                                            {{franquia.DataCotacao ? 'Sim':'Não'}}
                                        </label>
                                    </td>
                                    <td>
                                        <label ng-class="{'label label-success':franquia.Ativo,'label label-danger':!franquia.Ativo}">
                                            {{franquia.Ativo ? 'Ativo':'Desativado'}}
                                        </label>
                                    </td>
                                    <td>
                                        <div class="">
                                            <div class="inline pos-rel">
                                                <button class="btn btn-minier btn-primary dropdown-toggle" data-toggle="dropdown" data-position="auto" aria-expanded="true">
                                                    <i class="ace-icon fa fa-cog icon-only bigger-110"></i>
                                                </button>
                                                <ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-top dropdown-caret dropdown-close">
                                                    <li data-toggle="tooltip" data-placement="top" title="Editar">
                                                        <a href="javascript:void(0);" ng-click="editarFranquia(franquia);">
                                                            <span class="green">
                                                                <i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
                                                            </span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                        <div class="text-center">
                            <custom-pager page="{{page}}" pages-count="{{pagesCount}}" total-count="{{totalCount}}" search-func="pesquisarFranquia(page)"></custom-pager>
                        </div>
                    </div>
                    <!--Fim Tabela Pesquisar-->

                </div>

            </div>
        </div>

        <div id="tabContFranquia" ng-class="tabsFranquia.tabCadFranquia.contentAtivar" ng-show="tabsFranquia.tabCadFranquia.contentHabilitar">
            <h4>Franquia</h4>
            <hr />

            <form class="form-group" role="form">
                <!--Inicio Dados -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Razão Social:</span>
                            <input type="text" class="form-control" ng-model="novaFranquia.RazaoSocial"
                                   id="txtRazaoSocial" name="txtRazaoSocial" placeholder="Razão Social" />

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Nome Fantasia:</span>
                            <input type="text" class="form-control" ng-model="novaFranquia.NomeFantasia"
                                   id="txtNomeFantasia" name="txtNomeFantasia" placeholder="Nome Fantasia" />

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Email:</span>

                            <input type="text" class="form-control" ng-model="novaFranquia.Email"
                                   id="txtEmail" name="txtDescMarca" placeholder="Email" />

                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Cnpj:</span>

                            <input type="text" class="form-control" ng-model="novaFranquia.Cnpj"
                                   id="txtCnpj" name="txtCnpj" placeholder="Cnpj" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="lbl"> Data da Fundação</span>
                            <div class="input-group">
                                <input type="text" class="form-control date-picker" ng-disabled="true" name="txtDataFundacao"
                                       datepicker-popup="{{format}}" ng-model="novaFranquia.DtFundacao" is-open="datepicker.opened"
                                       datepicker-options="dateOptions" datepicker-append-to-body="true" close-text="Close"
                                       placeholder="Data da Fundação" />
                                <span class="input-group-addon">
                                    <a href="javascript:void(0);" ng-click="openDatePicker($event)"><i class="fa fa-calendar bigger-110"></i></a>
                                </span>
                            </div>


                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Responsável:</span>

                            <input type="text" class="form-control" ng-model="novaFranquia.Responsavel"
                                   id="txtResponsavel" name="txtResponsavel" placeholder="Responsável" />

                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Descrição:</span>

                            <input type="text" class="form-control" ng-model="novaFranquia.Descricao"
                                   id="txtDescricao" name="txtDescricao" placeholder="Descrição da Franquia" />

                        </div>
                    </div>
                    <div class="col-md-2">
                        <label style="margin-top: 25px;">
                            <input name="form-field-checkbox" class="ace input-lg" type="checkbox" checked="checked" id="ckbDataCotacao"
                                   ng-model="novaFranquia.DataCotacao">
                            <span class="lbl"> Data Cotação</span>
                        </label>
                    </div>
                    <div class="col-md-2">
                        <label style="margin-top: 25px;">
                            <input name="form-field-checkbox" class="ace input-lg" type="checkbox" checked="checked" id="ckbAtivo"
                                   ng-model="novaFranquia.Ativo">
                            <span class="lbl"> Ativo</span>
                        </label>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <h4> Endereço</h4>
                        <hr />
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-2">
                        <div class="form-horizontal">
                            <span class="lbl"> CEP</span>
                            <input type="text" class="form-control" id="txtCep" name="txtcep" placeholder="CEP"
                                   ng-model="novoEndereco.Cep"
                                   maxlength="8" mask="XXXXXXXX" ng-change="loadEnderecoCep(novoEndereco.Cep);" />

                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-horizontal">
                            <span class="lbl"> Logradouro</span>
                            <select id="ddlLogradouro" ng-model="novoEndereco.LogradouroId" class="form-control black" ng-options="option.Id as option.DescLogradouro for option in logradouros"></select>
                            <input type="hidden" name="LogradouroId" ng-value="novoEndereco.LogradouroId" />
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-horizontal">
                            <span class="lbl"> Endereço</span>
                            <input type="text" class="form-control" id="txtEndereco" name="txtEndereco" maxlength="100" placeholder="Endereço"
                                   ng-model="novoEndereco.Endereco" />

                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-horizontal">
                            <span class="lbl"> Número:</span>
                            <input type="text" class="form-control" id="txtNumEndereco" name="txtNumEndereco" placeholder="Número"
                                   ng-model="novoEndereco.NumEndereco" mask="XXXXXXXXX" maxlength="9" />

                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-horizontal">
                            <span class="lbl"> Complemento</span>
                            <input type="text" class="form-control" id="txtComplemento" name="txtComplemento" placeholder="Complemento"
                                   ng-model="novoEndereco.Complemento" />

                        </div>

                    </div>

                </div>
                <div class="row">

                    <div class="col-md-3">
                        <div class="form-horizontal">
                            <span class="lbl"> Estado</span>
                            <select id="ddlEstado" ng-change="loadCidadeChange(novoEndereco.EstadoId)"
                                    ng-model="novoEndereco.EstadoId" class="form-control black"
                                    ng-options="option.Id as option.DescEstado for option in estados">
                                <option value="" selected>Estado...</option>
                            </select>
                            <input type="hidden" name="EstadoId" ng-value="novoEndereco.EstadoId" />
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-horizontal">
                            <span class="lbl"> Cidade</span>

                            <select id="ddlCidade" ng-change="loadBairroChange(novoEndereco.CidadeId)"
                                    ng-model="novoEndereco.CidadeId" ng-disabled="habilitaddlCidade" class="form-control black"
                                    ng-options="option.Id as option.DescCidade for option in cidades">
                                <option value="" selected>Cidade...</option>
                            </select>
                            <input type="hidden" name="CidadeId" ng-value="novoEndereco.CidadeId" />

                        </div>

                    </div>

                    <div class="col-md-4" ng-show="mostraBairroDll">
                        <div class="form-horizontal">
                            <span class="lbl"> Bairro</span>
                            <select id="ddlBairro" ng-model="novoEndereco.BairroId" class="form-control black" disabled="" ng-disabled="habilitaddlBairro" ng-options="option.Id as option.DescBairro for option in bairros">
                                <option value="" selected>Bairro...</option>
                            </select>
                            <input type="hidden" name="BairroID" ng-value="novoEndereco.Endereco.BairroId" />

                        </div>
                    </div>


                    <div class="col-md-4" ng-show="mostraBairroInput">
                        <div class="form-horizontal">
                            <span class="lbl"> Bairro</span>
                            <input type="text" class="form-control" name="bairroDesc" ng-model="novoEndereco.BairroDescNew" placeholder="Bairro" ng-init="novoFornecedor.Endereco.BairroDescNew=''" />
                        </div>
                    </div>


                </div>
                <div class="row">

                    <div class="col-md-6">
                        <div class="form-horizontal">
                            <span class="lbl"> Referência</span>
                            <input type="text" class="form-control" id="txtReferencia" name="txtComplemento" placeholder="Ponto de Referencia"
                                   ng-model="novoEndereco.Referencia" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h4> Telefone</h4>
                        <hr />
                    </div>
                </div>
                <div class="conteudo">
                    <div id="Telefone" class="row">
                        <div class="col-md-1">
                            <span class="lbl"> DDD</span>
                            <input type="text" class="form-control" id="txtDDDTel" name="txtDDDTel" placeholder="DDD" mask="XX" maxlength="5"
                                   ng-model="novaFranquia.DddTelComl" validate-on="blur" required required-message="'Campo obrigatório.'" />

                        </div>
                        <div class="col-md-3">
                            <span class="lbl"> Telefone</span>
                            <input type="text" class="form-control" id="txtTel" name="txtTel" mask="XXXXXXXX" placeholder="Telefone" maxlength="11"
                                   ng-model="novaFranquia.TelefoneComl" validate-on="blur" required required-message="'Campo obrigatório.'" />

                        </div>
                    </div>
                </div>
                <div id="Celular" class="row">
                    <div class="col-md-1">
                        <span class="lbl"> DDD</span>
                        <input type="text" class="form-control" id="txtDDDCel" name="txtDDDCel" placeholder="DDD" mask="XX" maxlength="4"
                               ng-model="novaFranquia.DddCel" validate-on="blur" required required-message="'Campo obrigatório.'" />
                    </div>
                    <div class="col-md-3">
                        <span class="lbl"> Celular</span>
                        <input type="text" class="form-control" id="txtCel" name="txtCel" placeholder="Celular" mask="XXXXXXXXX" maxlength="11"
                               ng-model="novaFranquia.Celular" validate-on="blur" required required-message="'Campo obrigatório.'" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <span class="lbl"> Contato</span>
                        <input type="text" class="form-control" id="txtContato" name="txtContato" placeholder="Contato"
                               ng-model="novaFranquia.Contato" />

                    </div>
                </div>
                <!--Inicio Botoes-->
                <hr />
                <div class="row">
                    <div class="col-md-1">
                        <button type="submit" class="btn btn-success btn-sm" ng-click="inserirFranquia(novaFranquia)">
                            <i class="ace-icon fa fa-check"></i>
                            Salvar
                        </button>

                    </div>
                    <div class="col-md-1">
                        <button type="button" class="btn btn-default btn-sm" ng-click="limpaDados()">
                            <span class="glyphicon glyphicon-pencil"></span>
                            Novo
                        </button>

                    </div>
                </div>

                <!--Fim Botoes-->
            </form>
        </div>

    </div>

</div>